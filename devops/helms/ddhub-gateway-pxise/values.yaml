# Default values for ddhub-client-gateway-api.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.
ddhub-client-gateway-api:
  replicaCount: 1

  clientgateway:
    config:
      # -- The URL of the DSB Message Broker you want to connect to. Trailing / allowed.
      dsb_base_url: https://qa.der.aemo.com.au/ddhub
      parent_namespace: ddhub.apps.aemo.iam.ewc
      secret_engine: azure
      # -- Sets the secret prefix in the secret engine.
      secret_prefix: "ddhubpixse/"
      node_env: test
      opentelemetry_enabled: false
    scheduler:
      enabled: true
      image:
        repository: aemocontainerregistry.azurecr.io/ddhub-client-gateway-scheduler
        pullPolicy: IfNotPresent
        # Overrides the image tag whose default is the chart appVersion.
        tag: 1.4.0
      appConfig:
        NO_COLOR: "true"
    ui:
      enabled: true
      replicaCount: 1
      image:
        repository: aemocontainerregistry.azurecr.io/ddhub-client-gateway-frontend
        pullPolicy: IfNotPresent
        # Overrides the image tag whose default is the chart appVersion.
        tag: 1.3.2
  image:
    # repository: 098061033856.dkr.ecr.us-east-1.amazonaws.com/ew-dos-dsb-ecr
    repository: aemocontainerregistry.azurecr.io/ddhub-client-gateway-backend
    pullPolicy: IfNotPresent
    # Overrides the image tag whose default is the chart appVersion.
    tag: 1.4.0

  imagePullSecrets: []
  nameOverride: "ddhub-client-gateway-pxise"
  fullnameOverride: "ddhub-client-gateway-pxise"

  config:
    enabled: true
    secretRefName: ddhub-client-gateway-pxise-sealedsecret
    configRefName: ddhub-client-gateway-pxise-configmap

  podSecurityContext: 
    fsGroup: 2000

  securityContext: {}
    # capabilities:
    #   drop:
    #   - ALL
    # readOnlyRootFilesystem: true
    # runAsNonRoot: true
    # runAsUser: 1000

  ingress:
    enabled: true
    annotations:
      kubernetes.io/ingress.class: nginx
      nginx.ingress.kubernetes.io/force-ssl-redirect: "true"
      external-dns.alpha.kubernetes.io/cloudflare-proxied: "true"
  
    hosts:
      - host: ddhub-gateway-pxise.energyweb.org
        paths:
        - path: /docs
          pathType: Prefix
          backend:
            serviceName: ddhub-client-gateway-pxise
            servicePort: 80
        - path: /api
          pathType: Prefix
          backend:
            serviceName: ddhub-client-gateway-pxise
            servicePort: 80
        - path: /docs-json
          pathType: Prefix
          backend:
            serviceName: ddhub-client-gateway-pxise
            servicePort: 80
        - path: /events
          pathType: Prefix
          backend:
            serviceName: ddhub-client-gateway-pxise
            servicePort: 80
        - path: /
          pathType: Prefix
          backend:
            serviceName: ddhub-client-gateway-pxise-ui
            servicePort: 80
    tls:
      - secretName: ddhub-gateway-pxise-tls-secret
        hosts:
          - ddhub-gateway-pxise.energyweb.org

  sealedSecret:
    enabled: true
    encryptedData: 
      DB_NAME: AgCOhe+lgCeq98YuGM92Cy1/ME5JUL4yGscPOhOYnLVUa+HUHyEDSG/1eddkDc11f4rsRI6pkdv6So4chlbTJ0uLd2bKdZ/0ATSfXvlZ9Ob/ePdqkGt5kp859MR+DxFxSKQr4KbpAp6cIuolgjlWsgjq7UjTHPFW2IxwFKrtukzL/LgSz1xOPj8I0yx/WBV7Na4tUBsh1TtZGdkq1ycC5UvkoGN54ek1PpLWKfz4SPuL/NARUgre5AYKomkMFfVTARHy7JcqDgDssTFcwFOOHnurzYeme33i1F2RNVv5fkSEsEgAT4qGtvNxsetZHSaywbNYJhhM6BZUyAIWnqIEHlDAJR8nkWzCcNko6ouuxRfdiG7vc3pV+rx2e73YodGIdvWD+LmDwTEh0VWTy1t+5JsQMldYRkPiaBmyJKHI9vj9pwREpNddEvxOXwrSPepyhC7VghoWgi+cwAcuGB18DtZRVHjJ4NOwduovILhdTos/+MYAX3WWjsuV6fPrHzxv/kRZuFhqrd3CkyYhqN7AmAQIaxPJPi7v0cABfoaHtLQBXXpjZVG6oZuretA24+9xdwGOHU65uw1NiIX4mWvLGXeW14O+bnMMkqk+P17MexXvZ4uGRMqbDXOXjtoYnrcSCCZ8CFx1hyT9l5OJmBOTmEVVwmvJYvmBtlLxoAP/z353ILih555wRlRdIdOzNPsb3vAoM9oeEPd4BHATzr5dsbVV5EigaQPh7MqAOk7hr5QRjWygyudfAw7NkeTaEVli8HQoksV72spKt9pHNWm7+ME8D8LB4arSNRrjD4ymP/3rvfX4zuLip9Y0IK8vmzzRirwCDvU5EqnIIA==
      AZURE_VAULT_URL: AgAJ/meliNFncy2BchpfWIQ80c7hdc1m4KzFeFWbakBhtNduCp/Ab1s8MAA6SUd8Wv76vNBvlmySeyPB2tT2QsLyhfojMk8iI2eEvYJjKZr3OShTslbVVvGmc2DZFeXZyk6NruxDgodsPIinDc6SBLIDwXbsLAarLtdCx5iJvp5Xxs5jObmpG+n/9Y3Ong0K0L2NubdjOk7mMPirQLcoPDGtfIuBRbIpJ/Gg0QsiXd94aqMGvTcd+MbLvMhZ1zoIf7zcEKIuLRNxC986vdEIoj/KeR82bwCmfZ1/i4nMwAAKAhiZZl9LnEeTMp4Uvlf86OytD3xqs83DVICm8xv5gZaOo3/3K1m87FNF3MkYPBh6E5Rk7NmXt8Pu64BRRXIHPITa1Il0sMxVn60QwNtWwRTmFXurWzFroPqqEwhWJ62AUvpYFYQwYWeF2n7OmxaNrSK/0XMIr8/uaA/s4JHvR+oaOWD3ZGMA3HOa3HBBcDLstEbHvXVBM/SY1bM7bTzKbvO6wDDY8eFwhXe4sxx5Ixzn70BVK6Nd3Mal9xeUuODtN2X5/ENzge3f+d1Kv6bieYy9/XTE7x7YKJGwJ1HfHjc+MNJWs7JVDNxgBJWwsChr5rYlr4DNrjX6qIvjC7jg0nzifusy/D+4uvbWd160ccKyCoTSliDuVG2AQzsD2AwH3jUucOpnEp6S08H484RW3rdtmFJ1+T1fiNXkCbLE/PzqsfmNY3c/xIV+HOyyE198QY7z/WvIZg==
      AZURE_CLIENT_ID: AgBcIWSM8VJkNk+wHpJnfrJYsD7q1URaPPtXFrtd92CBfXJj+4fB3ZDjXMzFJYmE7hU5LFOQbSj+4vVF1DV2P1tVUleODbNxYRRam84H6PLFlNjNyhb+3pWDrtjBUi3JEzv2hWPG8HNCaRjHgStqsMz1GF15NcqLD2ySDJ1TWjwhEz2QY356v42DDeQ5oZR/vpGMHBqw1kPR0UpxztRRqarevMFQ6SYSJfGTPkPnQTMdQKC7Wji+iIGcsjahUpOg2unObxi+EvagvFxBW6cXRXR7Pw4TsbHe/NB5ieFCry2UCW+EsAsGw2qlYRNN/PwZt8VRaCE8bRL03cEgIvKZj1b7EBO4Lju53ZFLb3j7UAwLSwQ4WqF7eERbR6g86vQBlDcVBqGbbMQuFRHmQC55FytEhqsTVv9M0S13Y7T0chVr20vSOAFGWdmlkXQYFOKgiKvnl8J10UYXf3kZD87IR9MTxbH2bhQt43b8yq5ortj2KVLtCrb9EtHIcSS4Gnvun2g7LZuCdFdc84wV5bNGGPsrSO/zfyf9fmQbsQQYTrJ3cC4+sNu03SwJL+97eWfr3+hDLX/A6kQ++V5mSsR3U+662TFCrlN1CvcT4VlfS+cB1gwMvL3J/k2TtypmARmrlJuTHSCMhRRg9D57nwPbG56/S8BXvsKyjmxyvPxh1+2A5sJybK+AgoG5smoyBG+AwsdttnZ9XjEoVUSCn59zO1qFrRLaIpGuVeve+l/jHLdK2godOII=
      AZURE_CLIENT_SECRET: AgBjYUL/YtsBLgWs8WPJc16fzMmsBKxR3zM1AfjrYmpLKbvjmyUKq5nXD+PBwc8icUQOYB7A4E2t939Sy/oz447c54OLgiU8/vYvIrfn1iAdRvyqyTBIrH0AIzs1mB3PK2r0a810/sqGa57q8YFd8bFow2ozXKNsB43/bY/P83hoaOyE/zeFpXiwXFY9R/4PrB1URk1tqikstWOT08HCxlpl9mV/Uie/K71tTd5QFcuPB672PGWeGlAegyrFjC/mXwzc84x5ATW3/iRA74vUFg2LOZFDxvsOfud60927tTSJxjOmnF3GaagVtoY8UUuEtMB3f9iEVBI5fw4+HVreohbwEXsmlvKPH1Xrj2bSomsW1S9sCU8DDEO6m+n+c745A92GjdVcvIbBTD8Lkrk63L4xoVwTSRFiWRQZo+uhgEfxgVu3D9zr2/g/4UcHIQMcE9xFWiniaaziBD7yoXcknOoiPscIqZV1n1i8fMVWlLaHAaDs6W0eDZFJakdBc6xn7rlp4iPKK8BYz3ai7Vqk/8XRERhj1d6Xi+tfloWFzpWyt57NOCIzUpBNbmPH4D+Rthi0gnk9jTPBvYihSExkRTRYTFULBK84gpNDAC9BG5PHmAU1nTxpP48WpbV4mqu3jh//fPeUJRZqIT+cq6Pk0lFAghcb4OypWPzdC7BEx2dx7pMA3vTya+SlZEBy9VIPAhokHJqlVnurv38sjZJlilWZrNEM9UH5iuzkqkO/4C6w23BZ
      AZURE_TENANT_ID: AgBjBs/fvgOCPkvL+VdPA4o2BG6Z2/qkTy+7LIzmhd4877LvdQrtmfW2aiFkCLGSR+1lGVGR+oQVm/v3OgJ/bl0Gi2rB+1szzMDEarq9GPgCmAfJ9AQhO5zpaEG24irJHYJM1jRXu3nlLFunjOGbOmrt2xZqmLrYtstZ4SqTmyJAjqWgw+cuuUuMjtqVgN2N29NIx6bXHxvWGuLiDFXk/H5XAW0cSnuGW6TC/yhIyDK9HITvTdDse3xO+SpdW2Df7x4X+6YrFqC0YY5yMsd2prjxp/kvwJ5ov9VJWYNcMB0tH7DvPwDvQNBkmx7wdKqvJ1DnWPY4BOq+sfhTLw5Irg7TSqOA7K12nOihTQrN1NzxZjRyGRUXjS1AkalhiN5EnfNBIMdeIrQdZ3AWU5NKe7//XBC+nU2oman1+s5O7h9NIOGIUDzTxBLOrpjAE5Qu0UG9Y52FStysphO4ZZF7xw6Yr2W2Q96Nta4yj3QcKJCxy0K5qRvmIaRJy+IvlFADI1JyM+hm76tPVmmEUg+aAk1MlY+460Im8kjldTo/OG2YmglgDAQ43JIBnQVuekNxc5QaHSZYmvlcXwkxO9XQtr8eK9mEKjuyIbx6t+Ue22BzouuNIg1lI95EYnLp/NuWVXaU+Xc0sWHlg0kZCS+bYEq74lOm9MO1KEBL3AKv8FANQG/8bHlyP5UfSayFOcx85ROp5njN69x1Uy66rQ86LracOi7uYkAR/D+tWbeOiv6v1KTVr0Y=

  probes:
    liveness: true
    livenessInitialDelay: 100
    livenessPeriodSeconds: 10
    readiness: true
    readinessInitialDelay: 100
