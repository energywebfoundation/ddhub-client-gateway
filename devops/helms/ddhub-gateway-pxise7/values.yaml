# Default values for ddhub-client-gateway-api.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.
ddhub-client-gateway-api:
  replicaCount: 1

  clientgateway:
    config:
      # -- The URL of the DSB Message Broker you want to connect to. Trailing / allowed.
      dsb_base_url: https://qa.der.aemo.com.au/ddhub
      parent_namespace: ddhub.apps.aemo.iam.ewc
      secret_engine: azure
      # -- Sets the secret prefix in the secret engine.
      secret_prefix: "ddhub-pxise7/"
      node_env: test
      opentelemetry_enabled: false
    scheduler:
      enabled: true
      image:
        repository: aemocontainerregistry.azurecr.io/ddhub-client-gateway-scheduler
        pullPolicy: IfNotPresent
        # Overrides the image tag whose default is the chart appVersion.
        tag: 1.4.1
      appConfig:
        NO_COLOR: "true"
        AK_FQCN: "ak.enc.pub"
        AK_TOPIC_NAME: "associationKey"
        AK_TOPIC_OWNER: "edge.apps.aemo.iam.ewc"
        AK_TOPIC_VERSION: "1.0.0"
        AK_SHARE_CRON_ENABLED: "true"
        AK_SHARE_CRON_SCHEDULE: "*/1 * * * *"
        ASSOCIATION_KEYS_CRON_ENABLED: "true"
    ui:
      enabled: true
      replicaCount: 1
      image:
        repository: aemocontainerregistry.azurecr.io/ddhub-client-gateway-frontend
        pullPolicy: IfNotPresent
        # Overrides the image tag whose default is the chart appVersion.
        tag: 1.4.1
  image:
    # repository: 098061033856.dkr.ecr.us-east-1.amazonaws.com/ew-dos-dsb-ecr
    repository: aemocontainerregistry.azurecr.io/ddhub-client-gateway-backend
    pullPolicy: IfNotPresent
    # Overrides the image tag whose default is the chart appVersion.
    tag: 1.4.1

  imagePullSecrets: []
  nameOverride: "ddhub-client-gateway-pxise7"
  fullnameOverride: "ddhub-client-gateway-pxise7"

  config:
    enabled: true
    secretRefName: ddhub-client-gateway-pxise7-sealedsecret
    configRefName: ddhub-client-gateway-pxise7-configmap

  podSecurityContext: 
    fsGroup: 2000

  securityContext: {}
    # capabilities:
    #   drop:
    #   - ALL
    # readOnlyRootFilesystem: true
    # runAsNonRoot: true
    # runAsUser: 1000

  ingress:
    enabled: true
    annotations:
      kubernetes.io/ingress.class: nginx
      nginx.ingress.kubernetes.io/force-ssl-redirect: "true"
      external-dns.alpha.kubernetes.io/cloudflare-proxied: "true"
    hosts:
      - host: ddhub-gateway-pxise7.energyweb.org
        paths:
        - path: /docs
          pathType: Prefix
          backend:
            serviceName: ddhub-client-gateway-pxise7
            servicePort: 80
        - path: /api
          pathType: Prefix
          backend:
            serviceName: ddhub-client-gateway-pxise7
            servicePort: 80
        - path: /docs-json
          pathType: Prefix
          backend:
            serviceName: ddhub-client-gateway-pxise7
            servicePort: 80
        - path: /events
          pathType: Prefix
          backend:
            serviceName: ddhub-client-gateway-pxise7
            servicePort: 80
        - path: /
          pathType: Prefix
          backend:
            serviceName: ddhub-client-gateway-pxise7-ui
            servicePort: 80
    tls:
      - secretName: ddhub-gateway-pxise7-tls-secret
        hosts:
          - ddhub-gateway-pxise7.energyweb.org

  sealedSecret:
    enabled: true
    encryptedData: 
      DB_NAME: AgBDsHcqaNeqeBROUj3LNhoHSkeFhsRlp3u0/8kDJhnE8ggxMq3O4mPPTTPyjZN9tM2oAQdAVWm/1Ay50iWjkldNrGFgE8FrKccf+hrAl0ecOlwQBBFolzoirh8YLEj5Wf2oC2eoakeujavy2eOWrdQ0y3tNfb9sSpxD9sIMRgm5Jr9n/FJFSdJD5CRfofB0xb8VlBzTdinJMm27Y2i+Jkh1MTKnnzHft2JoSDa/r/btRHLuDz/FgGh/rv26nZhEGYhjkP0A13IXAA4XF9+8P6UjebOgiO8ZxgCaaWZldiWl6RhOARifL8U+tjvzS98sqIjlqUs4nIdTgXVFmXcG63SeB5lOHcFpn8SL0ar2sm1uB3cDld3zchgazbnLgEG5wq4u2jH2Lavx83wEYkGFJI8s0nhUQ7CjicsgYPrB5geC+jjPoEmCveeJvz9DJH+M9/5YcmfXaaTIxyiIBqXf1aHcu2bNZhO+oPi9DtvTdBtYESvNy+50CbA6cEQYpIq7FsCelSfsAUF40v0RK4DjvRlbEbnjUNU7CZ0ndhybKPPfeDItGylq+ZswAFQE1u/dqy/Sose2M/cWa5gz48QitgEolGWXaf+3zoEp/RRxd/RfnUZLFnIwzEMI5WxbhAQu0IbPOmmEWNfLEd0u2z+kT8OuonkqS+zdy3Aqbzs6LpHvrrCcp/xrYAG9Le1ZnDGhDroP6SP5l8EFFojGOj4Sw4GJZIv3jC+CFrlfiSterdlM3MFekl9LNcvDxssdpM9ix8sXSyGItXQ3jrz0qCzWl/apx1+EZwozFNAhck7KrFF5jwxQ3Ot4h5aDg3JHPoBKixQSm480dd5FV4c=
      AZURE_VAULT_URL: AgBPT2qRG5AHxdgQSH8hpxtv0UyyQ5ArIV3Pv3BQl8wuHIGcRpfAYYkDCpU9WU6mNS5OGAmt7h+Yd5Wm3tK5OOlu5Rx70ANKtGH9z8BHx1Qql+TPnIgl8U/HXsCzGW37npI2Y+1OXm92wAgEf0nTjJEcnoTKXJdHTHhj8BBjyXbjDwL62T18KM68QmGRPfcLzYokHVfGHe8L4v56Vtr29ENHhcleVeAY8qRb2quvwIS6DBQVvXOGzjWZ48lD+LaS1noqJ6lPEOliCAIctagdCoA7mAK9fq5hRPt3dodNInvOFIMSmkweH4AeO8t2MGHSREXLQjo8nP7bMdTFPND3TYsvlHJbKOxyJ549TettFvKt1mJ75x2JQraAcGuoWXC1Z2WU+zrxuZmm12pLkQDk17bMBBR9VMnFzcHWHLD8S3juSOH5RQgHvywBaTa6xtagVXMuSS+DnVqExpZLtkqXzgXQyCyLpyaF5fznUS5pJTWEfmBo116zyyE0QTpf8NfVYUuZ2YmkIQ6kfeiw4nNAoQ8NljNsgOs4dhVeDluNEXHvMuUIsQ5Do95HHNNMha2HuY4z7nLaX1RWOqUEv4nd8ATfyNk2FJ6vSHAZTzOHaeX69bT/ia2zUbbMTOESKZPxCJazVaJhDMXuufowHytWIR35k9ntVjL4ZcoNxug5gEeGTmFOZd9cei2btrLVChuyBvxRctC6H9X9FIBaut1YAciIgtaoOtz/nJofb9HPI0FOwbJ8ZVO5jQ==
      AZURE_CLIENT_ID: AgCAejo9/Cj/lvY48ETM1k8TxR5dj5H2jqk2UFkZ5GYlofQkgcMkd2B5LB12mKq4BElBMGz+qFZ8ZaIGBtqgc5Ys8EUs61kPUM79vgA9MC85PfG5KdwmuhG1MfpLCa5G8ek6Pmv9vQ2FwWJCgXqPdKcdbvabFYTb1QhwaF50MT0HNOGWv5X37CqkOrfivj0t2z0GKSjYfC1t6B4qZPCnxug7BiXPWXAPYlKBiiwWNjlqKaSbO3cly/s9K1gCJO8YPMSekenQglNNVSaXdqEnmrIF4VR+WEdwuXDpmTfO/Mzw2d9LKWqme5oi2XZcPLAfMxbdFdehZ7RnyVffirAyLBYPFW5YtgnpGiEsCD9FHzuzRwEwYwhZ74OE71fixK9KRRVqUbn+7jePRRD+638glQaBUh0yH9njPAcIduthFPUmQe4z/5p/FBbNtyqYO+LfUMZfDGOSmolJVQl2Dy4f5ZCnxWLw4HC6x/dDJRlH+I3lj0Wk/EKsXuepRiAgjfKIgj3GRrWWMn4PSV/js+5RdWR69xpnohjzyzgE7UmJPMdkLqYg/oHm7rHZdIKhuxT20LrzIDdHmq6a4ClLYnh4y0ngNvwcmDCr0Nc+osRy+2PWjGV+uupm2ckeAFJaX91xyOohplWcv5tnJKkQAUKafK8P2JT8Y1w77/yvpbAxEQzBKtVXFPFFyCnITrtHsel0uGN9dNVjiWk5jYwURK4Rm076BHo9yiAQABMum45pJx9SnXhMfrA=
      AZURE_CLIENT_SECRET: AgBnUj5yZM2qBgT8E8kz1L9sVcsRk2kuYEcW4Riz1OAbjJRqQ0+kpCemhGZzK8ExMMmbxKXog5OLHiXouL3Oenr58Uz1mouy4W8W1974IcOXaZcb+V1dSt5iJSuXJ/7Z0LgqW2jNy4sXiJA+qsV0JUNUF0qUUlLzYptuSN7VmB/gdrJV5EHZkA8k4XHp+ftU2IMNlOGBQGfWEJO+tIMUTpCiQJ+GCYZEdWqMSTismoZVWgSVRig8MfUMNRju+swtsqdTtE2f0Iejhl4hw5z97ba4NP/Cvvn+SIRJW/f8A/GbkcgzlTcrzakyX1hrP0qaTW8EaxR7/P2+kqzrx9hrxwmirBjXBZEDDHcgEAdPhpzbMOhmIXXThI2A9vEhOCccbhdOkLhQIcKz6gFXqb74AAAZpI8Bt/RqW2d+AnH97OPOS1BanJvu+vcdXBLwKj4ilyvkSI+iRHZa2hrkoBH3DQ/v241Gg6Fu5gBBOABaf/kL9JHSUGQ0xpkCVFu2iVkLnXTB2QtjHwaNGFSzdq46fd7OI9qKb0pSyERAFSdVYplbNDSsaZkfq8bd44u/QNp9Vac55t4EJI9BXnoQtOb73IxTAaZ/+WeZu0C4PHy1Vw4ZP8TVgKfDHEyD/KC3D1fooNFV15scQwiMZzPyYHpLiUqTCpZ9wrcUMfgqohj99m9nC+y/fOzyfxaiJEFumcKwj3gYfd0q+eMW6Rw5mtJdUNjgzsb/nmArxs3rkfdHooBpQZz3
      AZURE_TENANT_ID: AgB1OeT74EtV6OgICPK7GQMx3h78VYyMmNp86y8KmNviio4h776vMLUpps6TkUYp+Fgxf7Z2vwBpBXlTkWFxLplygHRWnigGBSF8+Vn7aeu4bNn1YvllqShdlkU528Ndbj9+6rPzQCyqS5nHCf2WnQYf5+7UqhYlpAuIdJc3qV64mVofmfmHxLjge0nfoee4pTJ6G5HK7UQbDSSJxYZb/Shd3D62c7GKaGbnZqfAJg5MSTkEFgyLOwFqKjBoe0egGYl6N8Suk9SQ01jIdOHQi/4Pni6GZi2CUF4SAREY9xzfX7Bb3GwQZA9wMfmfavyB8G/9tDUsLmaJgVMSBqtTsD2Lv0uLPGLpeMw+29e5fHMNFaSgd5R4v584IvPMOSdiQ9xRiWP2hoUVF3fUfGpxZkD0ytor7LfPw/tMktUVdP8HaJ9kDF+NJc6TIOVXE367INOtgMDLukrOfupZuyw1+mqIi0wEBPW6stkNYG5lEg8X1oBRONtR7ed5hikLlItTeQOjCbF6bx8lM41xcVjziQhIzn9m3LZnqS0LTJscL9U5YNaRx6Y5YTh80q43I2hFQI1jyw5LmH2NVBSVNkdPS8PxcdO/gfkL/596PpkzkNxyvoirZLIsKTJvXcaRhob5FrmnaMQNLNPKU2TlblViauEvaAvWgsxEbxXGAvJqPSrdzm9tDTeeUfGMXly7iG6ePhV8mP18FN2GXWydjJMtAkoC9d6Zvo6G2DCo96Q5QIdff6gAGTU=

  probes:
    liveness: true
    livenessInitialDelay: 100
    livenessPeriodSeconds: 10
    readiness: true
    readinessInitialDelay: 100
